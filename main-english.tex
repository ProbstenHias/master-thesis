% !TeX spellcheck = en-US
% !TeX encoding = utf8
% !TeX program = pdflatex
% !BIB program = biber
% -*- coding:utf-8 mod:LaTeX -*-
% !TEX root = ./main-english.tex

% vv  scroll down to line 200 for content  vv


\let\ifdeutsch\iffalse
\let\ifenglisch\iftrue
\input{pre-documentclass}
\documentclass[
  % fontsize=11pt is the standard
  a4paper,  % Standard format - only KOMAScript uses paper=a4 - https://tex.stackexchange.com/a/61044/9075
  twoside,  % we are optimizing for both screen and two-side printing. So the page numbers will jump, but the content is configured to stay in the middle (by using the geometry package)
  bibliography=totoc,
  %               idxtotoc,   %Index ins Inhaltsverzeichnis
  %               liststotoc, %List of X ins Inhaltsverzeichnis, mit liststotocnumbered werden die Abbildungsverzeichnisse nummeriert
  headsepline,
  cleardoublepage=empty,
  parskip=half,
  %               draft    % um zu sehen, wo noch nachgebessert werden muss - wichtig, da Bindungskorrektur mit drin
  draft=false
]{scrbook}
\input{config}


\usepackage[
  title={Is Oil the future?},
  author={Matthias Weilinger},
  type=master,
  institute=iaas, % or other institute names - or just a plain string using {Demo\\Demo...}
  course={Informatik},
  examiner={Prof.\ Dr.\ Dr.\ h.\ c.\ Frank Leymann},
  supervisor={M.Sc.\ Philipp Wundrack,\\M.Sc.\ Fabian Bühler},
  startdate={April 19, 2023},
  enddate={October 19, 2023}
]{scientific-thesis-cover}

\input{acronyms}

\makeindex

\begin{document}

%tex4ht-Konvertierung verschönern
\iftex4ht
  % tell tex4ht to create picures also for formulas starting with '$'
  % WARNING: a tex4ht run now takes forever!
  \Configure{$}{\PicMath}{\EndPicMath}{}
  %$ % <- syntax highlighting fix for emacs
  \Css{body {text-align:justify;}}

  %conversion of .pdf to .png
  \Configure{graphics*}
  {pdf}
  {\Needs{"convert \csname Gin@base\endcsname.pdf
      \csname Gin@base\endcsname.png"}%
    \Picture[pict]{\csname Gin@base\endcsname.png}%
  }
\fi

%\VerbatimFootnotes %verbatim text in Fußnoten erlauben. Geht normalerweise nicht.

\input{commands}
\pagenumbering{arabic}
\Titelblatt

%Eigener Seitenstil fuer die Kurzfassung und das Inhaltsverzeichnis
\deftriplepagestyle{preamble}{}{}{}{}{}{\pagemark}
%Doku zu deftriplepagestyle: scrguide.pdf
\pagestyle{preamble}
\renewcommand*{\chapterpagestyle}{preamble}



%Kurzfassung / abstract
%auch im Stil vom Inhaltsverzeichnis
\ifdeutsch
  \section*{Kurzfassung}
\else
  \section*{Abstract}
\fi

<Short summary of the thesis>

\cleardoublepage


% BEGIN: Verzeichnisse

\iftex4ht
\else
  \microtypesetup{protrusion=false}
\fi

%%%
% Literaturverzeichnis ins TOC mit aufnehmen, aber nur wenn nichts anderes mehr hilft!
% \addcontentsline{toc}{chapter}{Literaturverzeichnis}
%
% oder zB
%\addcontentsline{toc}{section}{Abkürzungsverzeichnis}
%
%%%

%Produce table of contents
%
%In case you have trouble with headings reaching into the page numbers, enable the following three lines.
%Hint by http://golatex.de/inhaltsverzeichnis-schreibt-ueber-rand-t3106.html
%
%\makeatletter
%\renewcommand{\@pnumwidth}{2em}
%\makeatother
%
\tableofcontents

% Bei einem ungünstigen Seitenumbruch im Inhaltsverzeichnis, kann dieser mit
% \addtocontents{toc}{\protect\newpage}
% an der passenden Stelle im Fließtext erzwungen werden.

\listoffigures
\listoftables

%Wird nur bei Verwendung von der lstlisting-Umgebung mit dem "caption"-Parameter benoetigt
%\lstlistoflistings
%ansonsten:
\ifdeutsch
  \listof{Listing}{Verzeichnis der Listings}
\else
  \listof{Listing}{List of Listings}
\fi

%mittels \newfloat wurde die Algorithmus-Gleitumgebung definiert.
%Mit folgendem Befehl werden alle floats dieses Typs ausgegeben
\ifdeutsch
  \listof{Algorithmus}{Verzeichnis der Algorithmen}
\else
  \listof{Algorithmus}{List of Algorithms}
\fi
%\listofalgorithms %Ist nur für Algorithmen, die mittels \begin{algorithm} umschlossen werden, nötig

% Abkürzungsverzeichnis
\printnoidxglossaries

\iftex4ht
\else
  %Optischen Randausgleich und Grauwertkorrektur wieder aktivieren
  \microtypesetup{protrusion=true}
\fi

% END: Verzeichnisse


% Headline and footline
\renewcommand*{\chapterpagestyle}{scrplain}
\pagestyle{scrheadings}
\pagestyle{scrheadings}
\ihead[]{}
\chead[]{}
\ohead[]{\headmark}
\cfoot[]{}
\ofoot[\usekomafont{pagenumber}\thepage]{\usekomafont{pagenumber}\thepage}
\ifoot[]{}


%% vv  scroll down for content  vv %%































%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% Main content starts here
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\chapter{Notes what I have done so far}
\begin{itemize}
  \item Added recursive parsing of the plugin folders so that subfolders are also parsed
  \item created a callable plugin that gets the data parsed from its invoker via the database
  \item created a invoker that calls the callable plugin
  \item user can now select a plugin from the list of callable plugins, the list is narrowed down to the plugins that are compatible via the tag field
  \item creating a method to get the plugin name from the plugin URL
  \item made the callee plugin to multistep, to demonstrate that any amount of steps can be done in invoked plugin
  \item started with an optimizer plugin that gives the first frontend for the user to select the objective function plugin
  \item create an objective function plugin that takes means squared error as an objective function
  \item todo: creating a method to get the plugin metadata from the plugin URL (this is needed in order to get the entry points of the plugin)
  \item identified three key problems:
  \begin{itemize}
    \item Reliable way to pass a callback function to the callee plugin
    \item A way to get a list of interaction endpoints of the callee plugin
    \item A way to get the plugin metadata from the plugin URL
  \end{itemize}
  \item 19.05: I am currently working on a big problem
  \begin{itemize}
    \item I have the optimizer plugin which should call the objective function plugin so that it can ask the user for the hyperparameters of the objective function
    \item For that reason I need to add a next step as a celery task. 
    \item The thing is i don't want to handle the next task like other multistep plugins where they share a db id since the ObjectiveFunction plugin should be able to stand on its own.
    \item Therefore, I pass a callback function to the objective function plugin which it should call when it is done with the setup.
    \item works all fine like that
    \item The problem right now is how i call the ObjectiveFunction plugin from the optimizer plugin
    \item I need to add it as a step, which is usually done via the add\_step celery task
    \item This task though needs a db\_id which I don't want to add.
    \item When adding none it works to call the ObjectiveFunction plugin and its also possbile to call the callback function
    \item but the problem is that with the add\_step task the celery task is not called asyncronously
    \item therefore when the callback function is called the optimizer plugin is not yet finished with the add\_step task
    \item usually one would go in the called multistep and do a clear\_previous\_steps call to make sure that the previous steps are finished
    \item but this call does not work since the ObjectiveFunction plugin does not have a db\_id
    \item thinking right now....
  \end{itemize}
\end{itemize}


\chapter{Define the plugins}
\begin{itemize}
  \item \textbf{ObjectiveFunction}: This plugin should have the following steps
  \begin{itemize}
    \item \textbf{ /get hyperparameterUI }: This step should let the user select the hyperparameters of the objective function
    \item \textbf{ /post ObjectiveFunctionSetup}: This step should setup the objective function with set a database id for future reference of the parameter. 
    Then it should store the following information to the database:
    \begin{itemize}
      \item hyperparameters
      \item more stuff?? %%% TODO specify what more stuff
    \end{itemize}
    Then it should call the optimizer callback function to indicate that the setup is done. Pass the url of the calculateLoss function as a parameter.
    \item \textbf{ /post CalculateLoss (dbID) }: this step should trigger the calculation of the loss function and should return it.
  \end{itemize}
  \item \textbf{Optimizer}: This plugin should have the following steps:
    \begin{itemize}
      \item \textbf{ /get setup UI }: Let the user select the objective function plugin, dataset, target variable, and the optimization algorithm
      \item \textbf{ /post setup }: This step should setup the optimizer with set a database id for future reference of the parameter. 
      Then it should call the objective function entry point to setup the objective function. Pass the url of the optimizer callback function as a parameter.
      \item \textbf{ /post callback }: This endpoint should be called by the objective function plugin to indicate that the setup is done.
      It should then start the optimization process.
      \item \textbf{ /post optimize }: This step should trigger the optimization process.
      It should loop the optimization fucntion until a stop condition is met.
      In each iteration it should call the objective function plugin to calculate the loss function.
    \end{itemize}
\end{itemize}

\chapter{Introduction}

This thesis starts with \cref{chap:k2}.

We can also typeset \verb|<text>verbatim text</text>|.
Backticks are also rendered correctly: \verb|`words in backticks`|.

\chapter{Chapter Two}
\label{chap:k2}

LaTeX hints are provided in \cref{chap:latexhints}.

\blinddocument

\chapter{Related Work}

Describe relevant scientific literature related to your work.

\chapter{Conclusion and Outlook}
\label{chap:zusfas}

\section*{Outlook}

\printbibliography

All links were last followed on March 17, 2018.

\appendix
\input{latexhints-english}

\pagestyle{empty}
\renewcommand*{\chapterpagestyle}{empty}
\Versicherung
\end{document}
